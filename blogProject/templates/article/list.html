{% extends "base.html" %}
{% load static %}

{% block title %}
Welcome to my Blog!
{% endblock title %}

{% block content %}

{% block headerImg %}
{% include 'homePageImg.html' %}
{% endblock headerImg %}

<div class="container">

    <div class="row">
        <!-- Blog Entries Column -->
        <div class="col-md-8">
            <!-- Blog Post -->
            {% for article in articles %}
            <div class="post-preview">
                <a href="{% url 'myBlog:article_detail' article.id %} ">
                    <h2 class="post-title">
                        {{ article.title }}
                    </h2>
                    <h3 class="post-subtitle">
                        {{article.content|slice:'50'}}
                    </h3>
                    <!--                    {% if article.avatar %}-->
                    <!--                    <div class="col-3">-->
                    <!--                        <img src="{{ article.avatar.url }}" alt="avatar" style="max-width:100%; border-radius: 20px" >-->
                    <!--                    </div>-->
                    <!--                    {% endif %}-->
                </a>
                <p class="post-meta">Posted by
                    <a href="#">{{article.author}}</a>
                    on {{article.created_time}}
                    <i style="padding-left: 280px" class="far fa-eye"></i>
                    Views: {{ article.total_views }}
                </p>
            </div>
            <hr>
            {% endfor %}

            <!-- Pagination -->
            <ul class="pagination justify-content-center mb-4">
                <li class="page-item">
                    <a class="page-link" href="#">&larr; Older</a>
                </li>
                <li class="page-item disabled">
                    <a class="page-link" href="#">Newer &rarr;</a>
                </li>
            </ul>

        </div>

        <!-- Sidebar Widgets Column -->
        <div class="col-md-4">

            <!-- Search Widget new -->
            <div class="sidebar-box pt-md-4">
                <form action="#" class="search-form">
                    <div class="form-group">
                        <span class="icon icon-search"></span>
                        <input type="text" class="form-control" placeholder="Type a keyword and hit enter">
                    </div>
                </form>
            </div>

            <!-- Categories Widget new-->
            <div class="sidebar-box">
                <h3 class="sidebar-heading">Categories</h3>
                <ul class="categories">
                    {% for article in articles %}
                    <li><a href="#">{{article.column}} <span>(6)</span></a></li>
                    {%endfor%}
                </ul>
            </div>

            <!--sidebar widget-->
            <div class="sidebar-box">
                <h3 class="sidebar-heading">Popular Articles</h3>
                {% for article in articles %}
                <div class="block-21 mb-4 d-flex">
                    {% if article.avatar %}
                    <a class="blog-img mr-4" style="background-image: url({{ article.avatar.url }});"></a>
                    {% else %}
                    <a class="blog-img mr-4" style="background-image: url({% static 'img/image_1.jpg' %});"></a>
                    {% endif %}
                    <div class="text">
                        <h3 class="heading"><a href="#">{{ article.title }}</a></h3>
                        <div class="meta">
                            <div><a href="#">{{article.created_time}}</a></div>
                            <br>
                            <div><a href="#"> {{article.author}}</a></div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>

        </div>
        <!-- /.row -->
    </div>
</div>
<!-- /.container -->

<script>
    window.sr = ScrollReveal();
    sr.reveal('.post-preview', {
        duration: 2000,
        origin: 'left',
        distance: '300px',
        viewFactor: 0.2
    });
    sr.reveal('.sidebar-heading', {
        duration: 2000,
        origin: 'right',
        distance: '300px',
        viewFactor: 0.2
    });
    sr.reveal('.sidebar-box', {
        duration: 2000,
        origin: 'right',
        distance: '300px',
        viewFactor: 0.2
    });
    sr.reveal('.page-item', {
        duration: 2000,
        origin: 'bottom',
        delay: 1500,
        distance: '300px',
        viewFactor: 0.2
    });
</script>

{% endblock content %}